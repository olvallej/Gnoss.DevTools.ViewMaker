@model ListadoMensajesViewModel
@*
Descripción
-----------------------------------------------
Nueva vista que muestra las acciones disponibles a realizar para el buscador. Estas se muestran en la cabecera del listado, correspondiente con el fichero "_list-header". Estas acciones serán:
- ComboBox para "Descargar"
- ComboBox para "Ordenar"
- ComboBox para "Visualizar"

Variables
----------------------------------------------------------------
*@
@{
@* Guardar el estado de visualización de la bandeja de mensajes *@
bool compactView = Model.CompactView;
} 


@*
----------------------------------------------------------------
 -------------------- Cabecera-Header de lista de recursos dentro de una comunidad --------------------
*@

@* Listado de acciones para hacer con resultados *@
<div class="acciones-listado">
    <div class="wrap">
        @* Opciones - Acciones para ordenar lista de recursos *@                
            @* Opciones de Ordenar los resultados obtenidos *@
        <div id="panel-orderBy" class="ordenar dropdown dropdown-select">

                @* No debe aparecer la opción de "Ordenar por. Por defecto la vista activa"
                <a class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                    <span class="material-icons">swap_vert</span>
                    <span class="texto">@Html.GetText("BANDEJAENTRADA", "ORDENADOPOR")</span>
                </a>
                *@
                <a class="dropdown-toggle active" data-toggle="dropdown" aria-expanded="false" aria-label="@Html.GetText("COMMON","SELECCIONARORDEN")">
                    <span class="material-icons">swap_vert</span>
                    <span class="texto">@Html.GetText("COMMON", "FECHA") @Html.GetText("COMMON", "DESCENDENTE").ToLower()</span>
                </a>

                @*
                <div id="cmbOrdenarPor" class="dropdown-menu basic-dropdown dropdown-menu-right filtro" style="will-change: transform;">
                    <a href="javascript: void(0)" class="item-dropdown" data-orderBy="nmo:sentDate">@Html.GetText("COMMON", "FECHA")</a>
                    <a href="javascript: void(0)" class="item-dropdown" data-orderBy="nmo:from">@Html.GetText("CORREO", "REMITENTE")</a>
                </div>
                *@
                <div id="cmbOrdenarPor" class="dropdown-menu basic-dropdown dropdown-icons dropdown-menu-right filtro" style="will-change: transform;">
                <a href="javascript: void(0)" class="item-dropdown activeView" data-orderBy="nmo:sentDate" data-order="orden|desc" aria-label="@Html.GetText("COMMON","SELECCIONARORDENDESCENDENTE")">
                        <span class="material-icons">swap_vert</span>
                        <span class="texto">@Html.GetText("COMMON", "FECHA") @Html.GetText("COMMON", "DESCENDENTE").ToLower()</span>
                    </a>
                    <a href="javascript: void(0)" class="item-dropdown" data-orderBy="nmo:sentDate" data-order="orden|asc" aria-label="@Html.GetText("COMMON","SELECCIONARORDENASCENDENTE")">
                        <span class="material-icons">swap_vert</span>
                        <span class="texto">@Html.GetText("COMMON", "FECHA") @Html.GetText("COMMON", "ASCENDENTE").ToLower()</span>
                    </a>
                    <a href="javascript: void(0)" class="item-dropdown" data-orderBy="nmo:from"  data-order="orden|desc" aria-label="@Html.GetText("COMMON","SELECCIONARORDENDESCENDENTE")">
                        <span class="material-icons">swap_vert</span>
                        <span class="texto">@Html.GetText("CORREO", "REMITENTE") @Html.GetText("COMMON", "DESCENDENTE").ToLower()</span>
                    </a>
                    <a href="javascript: void(0)" class="item-dropdown" data-orderBy="nmo:from"  data-order="orden|asc"  aria-label="@Html.GetText("COMMON","SELECCIONARORDENDESCENDENTE")">
                        <span class="material-icons">swap_vert</span>
                        <span class="texto">@Html.GetText("CORREO", "REMITENTE") @Html.GetText("COMMON", "DESCENDENTE").ToLower()</span>
                    </a>
                </div>
            </div>

            @* Opciones de Ordenar los resultados obtenidos 
            <div id="panel-orderAscDesc" class="ordenar dropdown dropdown-select">
                @* Coger por defecto la primera opción
                <a class="dropdown-toggle active" data-toggle="dropdown" aria-expanded="false" data-order="orden|asc">
                    <span class="material-icons">swap_vert</span>
                    <span class="texto">@Html.GetText("COMMON","ASCENDENTE")</span>
                </a>
                
                <div class="dropdown-menu basic-dropdown dropdown-menu-right" style="will-change: transform;">
                    <a class="item-dropdown activeView" data-order="orden|asc">
                        <span class="material-icons">swap_vert</span>
                        <span class="texto">@Html.GetText("COMMON", "ASCENDENTE")</span>
                    </a>
                    <a class="item-dropdown" data-order="orden|desc">
                        <span class="material-icons">swap_vert</span>
                        <span class="texto">@Html.GetText("COMMON","DESCENDENTE")</span>
                    </a>
                </div>
            </div>*@

            @* Opciones de visualización los resultados *@
            <div id="panel-viewBy" class="visualizacion dropdown dropdown-select">
            <a id="buscador" class="dropdown-toggle active" data-toggle="dropdown" aria-label="@Html.GetText("COMMON","SELECCIONARVISUALIZACION")">
                    @if (compactView)
                    {
                        <span class="material-icons">reorder</span>
                        <span class="texto">@Html.GetText("CORREO", "COMPACTADA")</span>
                    }
                    else
                    {
                        <span class="material-icons">view_agenda</span>
                        <span class="texto">@Html.GetText("COMBUSQUEDAAVANZADA", "LISTADO")</span>
                    }
                </a>
            <div class="dropdown-menu basic-dropdown dropdown-icons dropdown-menu-right">
                    <a class="item-dropdown aCompacView" 
                       data-class-resource-list="compacView"
                       onclick="CambiarVistaActiva(true)" 
                       aria-label="@Html.GetText("COMMON","SELECCIONARVISUALIZACION") @Html.GetText("CORREO", "COMPACTADA")"
                       >
                        <span class="material-icons">reorder</span>
                        <span class="texto">@Html.GetText("CORREO", "COMPACTADA")</span>
                    </a>
                    <a class="item-dropdown aListView activeView" 
                       data-class-resource-list="listView"
                       onclick="CambiarVistaActiva(false)"
                       aria-label="@Html.GetText("COMMON","SELECCIONARVISUALIZACION") @Html.GetText("COMBUSQUEDAAVANZADA", "LISTADO")">
                        <span class="material-icons">view_agenda</span>
                        <span class="texto">@Html.GetText("COMBUSQUEDAAVANZADA", "LISTADO")</span>
                    </a>
                </div>
            </div>      
    </div>
</div>

<script>
    /**
     * Método para guardar el tipo de bandeja de cómo se desea visualizar la lista de mensajes     
     */
    function CambiarVistaActiva(claseCompactada) {
        const params = {
            defaultView: (claseCompactada ? "compact" : "simple")
        }
        GnossPeticionAjax("@Html.GetUrlPagina()/selectView", params, false)
    }
</script>
